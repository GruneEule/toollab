<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperCalculator Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --accent-color: #f72585;
            --text-color: #2b2d42;
            --bg-color: #f8f9fa;
            --calc-bg: #ffffff;
            --button-bg: #e9ecef;
            --button-hover: #dee2e6;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --border-radius: 16px;
            --tab-active: #4361ee;
            --tab-inactive: #adb5bd;
        }

        .dark-mode {
            --primary-color: #4cc9f0;
            --secondary-color: #4895ef;
            --accent-color: #f72585;
            --text-color: #edf2f4;
            --bg-color: #1a1a2e;
            --calc-bg: #16213e;
            --button-bg: #2d3748;
            --button-hover: #4a5568;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --tab-active: #4cc9f0;
            --tab-inactive: #6c757d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        header {
            width: 100%;
            max-width: 1000px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 2.2rem;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }

        .theme-toggle {
            background: var(--button-bg);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .container {
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 1000px;
            gap: 20px;
        }

        .tabs {
            display: flex;
            background: var(--calc-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: var(--calc-bg);
            border: none;
            color: var(--text-color);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tab.active {
            background: var(--primary-color);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: flex;
            flex-direction: column;
        }

        .calculator-container, .currency-container, .converter-container, .scientific-container {
            background: var(--calc-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .calculator {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-gap: 10px;
        }

        .display {
            grid-column: span 5;
            background: var(--button-bg);
            border-radius: 12px;
            padding: 20px;
            text-align: right;
            margin-bottom: 10px;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            word-break: break-all;
        }

        .previous-operand {
            font-size: 1.2rem;
            color: #6c757d;
            min-height: 24px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .current-operand {
            font-size: 2rem;
            font-weight: 600;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .btn {
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            background: var(--button-bg);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn:hover {
            background: var(--button-hover);
            transform: translateY(-2px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .operator {
            background: var(--primary-color);
            color: white;
        }

        .equals {
            background: var(--accent-color);
            color: white;
        }

        .memory {
            background: var(--secondary-color);
            color: white;
        }

        .scientific {
            background: #5a189a;
            color: white;
        }

        .currency-container, .converter-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .converter-row {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .converter-input, .converter-select {
            padding: 12px;
            border: 2px solid var(--button-bg);
            border-radius: 12px;
            background: var(--calc-bg);
            color: var(--text-color);
            font-size: 1rem;
            flex: 1;
        }

        .converter-select {
            flex: 0.7;
        }

        .swap-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .rate-info {
            text-align: center;
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 10px;
        }

        .converter-type {
            margin-bottom: 15px;
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .converter-type-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            background: var(--button-bg);
            color: var(--text-color);
            cursor: pointer;
            white-space: nowrap;
        }

        .converter-type-btn.active {
            background: var(--primary-color);
            color: white;
        }

        footer {
            margin-top: 30px;
            text-align: center;
            font-size: 0.9rem;
            color: #6c757d;
        }

        @media (min-width: 768px) {
            .container {
                flex-direction: row;
                flex-wrap: wrap;
            }

            .calculator-container {
                flex: 2;
            }

            .currency-container, .converter-container {
                flex: 1;
            }

            .tabs {
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .calculator {
                grid-template-columns: repeat(4, 1fr);
            }

            .scientific-panel {
                grid-column: span 4;
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 10px;
                margin-bottom: 10px;
            }

            .btn {
                padding: 12px;
                font-size: 1rem;
            }

            h1 {
                font-size: 1.8rem;
            }
        }

        .scientific-panel {
            grid-column: span 5;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<header>
    <h1>SuperCalculator Pro</h1>
    <button class="theme-toggle" id="themeToggle">
        <i class="fas fa-moon"></i>
    </button>
</header>

<div class="container">
    <div class="tabs">
        <button class="tab active" data-tab="calculator">Taschenrechner</button>
        <button class="tab" data-tab="currency">Währung</button>
        <button class="tab" data-tab="converter">Einheiten</button>
        <button class="tab" data-tab="scientific">Wissenschaftlich</button>
    </div>

    <div class="tab-content active" id="calculator-tab">
        <div class="calculator-container">
            <div class="calculator">
                <div class="display">
                    <div class="previous-operand"></div>
                    <div class="current-operand">0</div>
                </div>

                <button class="btn scientific" data-action="sin">sin</button>
                <button class="btn scientific" data-action="cos">cos</button>
                <button class="btn scientific" data-action="tan">tan</button>
                <button class="btn scientific" data-action="log">log</button>
                <button class="btn scientific" data-action="ln">ln</button>

                <button class="btn memory" data-action="mc">MC</button>
                <button class="btn memory" data-action="mr">MR</button>
                <button class="btn memory" data-action="m-plus">M+</button>
                <button class="btn memory" data-action="m-minus">M-</button>
                <button class="btn operator" data-action="clear">C</button>

                <button class="btn operator" data-action="power">x²</button>
                <button class="btn operator" data-action="square-root">√</button>
                <button class="btn operator" data-action="percent">%</button>
                <button class="btn operator" data-action="divide">÷</button>
                <button class="btn operator" data-action="delete">⌫</button>

                <button class="btn" data-value="7">7</button>
                <button class="btn" data-value="8">8</button>
                <button class="btn" data-value="9">9</button>
                <button class="btn operator" data-action="multiply">×</button>
                <button class="btn operator" data-action="open-parenthesis">(</button>

                <button class="btn" data-value="4">4</button>
                <button class="btn" data-value="5">5</button>
                <button class="btn" data-value="6">6</button>
                <button class="btn operator" data-action="subtract">-</button>
                <button class="btn operator" data-action="close-parenthesis">)</button>

                <button class="btn" data-value="1">1</button>
                <button class="btn" data-value="2">2</button>
                <button class="btn" data-value="3">3</button>
                <button class="btn operator" data-action="add">+</button>
                <button class="btn operator" data-action="pi">π</button>

                <button class="btn" data-action="plus-minus">±</button>
                <button class="btn" data-value="0">0</button>
                <button class="btn" data-value=".">.</button>
                <button class="btn equals" data-action="calculate">=</button>
                <button class="btn operator" data-action="e">e</button>
            </div>
        </div>
    </div>

    <div class="tab-content" id="currency-tab">
        <div class="currency-container">
            <h2>Währungsumrechner</h2>

            <div class="converter-row">
                <input type="number" class="converter-input" id="amount-input" placeholder="Betrag" value="1">
                <select class="converter-select" id="from-currency">
                    <option value="EUR">EUR</option>
                    <option value="USD">USD</option>
                    <option value="CHF">CHF</option>
                    <option value="GBP">GBP</option>
                    <option value="JPY">JPY</option>
                    <option value="CAD">CAD</option>
                    <option value="AUD">AUD</option>
                </select>
            </div>

            <div class="converter-row">
                <button class="swap-btn" id="swap-currencies">
                    <i class="fas fa-exchange-alt"></i>
                </button>
            </div>

            <div class="converter-row">
                <input type="number" class="converter-input" id="result-output" placeholder="Ergebnis" readonly>
                <select class="converter-select" id="to-currency">
                    <option value="USD">USD</option>
                    <option value="EUR">EUR</option>
                    <option value="CHF">CHF</option>
                    <option value="GBP">GBP</option>
                    <option value="JPY">JPY</option>
                    <option value="CAD">CAD</option>
                    <option value="AUD">AUD</option>
                </select>
            </div>

            <div class="rate-info" id="exchange-rate">
                Wechselkurs: 1 EUR = 1.08 USD
            </div>
        </div>
    </div>

    <div class="tab-content" id="converter-tab">
        <div class="converter-container">
            <h2>Einheitenumrechner</h2>

            <div class="converter-type">
                <button class="converter-type-btn active" data-type="length">Länge</button>
                <button class="converter-type-btn" data-type="weight">Gewicht</button>
                <button class="converter-type-btn" data-type="temperature">Temperatur</button>
                <button class="converter-type-btn" data-type="energy">Energie</button>
                <button class="converter-type-btn" data-type="power">Leistung</button>
                <button class="converter-type-btn" data-type="area">Fläche</button>
                <button class="converter-type-btn" data-type="volume">Volumen</button>
            </div>

            <div class="converter-row">
                <input type="number" class="converter-input" id="converter-input" placeholder="Wert" value="1">
                <select class="converter-select" id="converter-from">
                    <option value="meter">Meter</option>
                    <option value="kilometer">Kilometer</option>
                    <option value="centimeter">Zentimeter</option>
                    <option value="millimeter">Millimeter</option>
                    <option value="mile">Meile</option>
                    <option value="yard">Yard</option>
                    <option value="foot">Fuß</option>
                    <option value="inch">Zoll</option>
                </select>
            </div>

            <div class="converter-row">
                <button class="swap-btn" id="swap-units">
                    <i class="fas fa-exchange-alt"></i>
                </button>
            </div>

            <div class="converter-row">
                <input type="number" class="converter-input" id="converter-result" placeholder="Ergebnis" readonly>
                <select class="converter-select" id="converter-to">
                    <option value="kilometer">Kilometer</option>
                    <option value="meter">Meter</option>
                    <option value="centimeter">Zentimeter</option>
                    <option value="millimeter">Millimeter</option>
                    <option value="mile">Meile</option>
                    <option value="yard">Yard</option>
                    <option value="foot">Fuß</option>
                    <option value="inch">Zoll</option>
                </select>
            </div>

            <div class="rate-info" id="conversion-info">
                1 Meter = 0.001 Kilometer
            </div>
        </div>
    </div>

    <div class="tab-content" id="scientific-tab">
        <div class="calculator-container">
            <div class="calculator">
                <div class="display">
                    <div class="previous-operand"></div>
                    <div class="current-operand">0</div>
                </div>

                <div class="scientific-panel">
                    <button class="btn scientific" data-action="sin">sin</button>
                    <button class="btn scientific" data-action="cos">cos</button>
                    <button class="btn scientific" data-action="tan">tan</button>
                    <button class="btn scientific" data-action="log">log</button>
                    <button class="btn scientific" data-action="ln">ln</button>

                    <button class="btn scientific" data-action="sinh">sinh</button>
                    <button class="btn scientific" data-action="cosh">cosh</button>
                    <button class="btn scientific" data-action="tanh">tanh</button>
                    <button class="btn scientific" data-action="exp">exp</button>
                    <button class="btn scientific" data-action="factorial">x!</button>

                    <button class="btn scientific" data-action="power">x^y</button>
                    <button class="btn scientific" data-action="square-root">√</button>
                    <button class="btn scientific" data-action="cube-root">∛</button>
                    <button class="btn scientific" data-action="log-base-2">log₂</button>
                    <button class="btn scientific" data-action="log-base-10">log₁₀</button>
                </div>

                <button class="btn memory" data-action="mc">MC</button>
                <button class="btn memory" data-action="mr">MR</button>
                <button class="btn memory" data-action="m-plus">M+</button>
                <button class="btn memory" data-action="m-minus">M-</button>
                <button class="btn operator" data-action="clear">C</button>

                <button class="btn operator" data-action="power">x²</button>
                <button class="btn operator" data-action="square-root">√</button>
                <button class="btn operator" data-action="percent">%</button>
                <button class="btn operator" data-action="divide">÷</button>
                <button class="btn operator" data-action="delete">⌫</button>

                <button class="btn" data-value="7">7</button>
                <button class="btn" data-value="8">8</button>
                <button class="btn" data-value="9">9</button>
                <button class="btn operator" data-action="multiply">×</button>
                <button class="btn operator" data-action="open-parenthesis">(</button>

                <button class="btn" data-value="4">4</button>
                <button class="btn" data-value="5">5</button>
                <button class="btn" data-value="6">6</button>
                <button class="btn operator" data-action="subtract">-</button>
                <button class="btn operator" data-action="close-parenthesis">)</button>

                <button class="btn" data-value="1">1</button>
                <button class="btn" data-value="2">2</button>
                <button class="btn" data-value="3">3</button>
                <button class="btn operator" data-action="add">+</button>
                <button class="btn operator" data-action="pi">π</button>

                <button class="btn" data-action="plus-minus">±</button>
                <button class="btn" data-value="0">0</button>
                <button class="btn" data-value=".">.</button>
                <button class="btn equals" data-action="calculate">=</button>
                <button class="btn operator" data-action="e">e</button>
            </div>
        </div>
    </div>
</div>

<footer>
    <p>© 2023 SuperCalculator Pro | Alle Rechte vorbehalten</p>
</footer>

<script>
    // Taschenrechner Funktionen
    class Calculator {
        constructor() {
            this.currentOperand = '0';
            this.previousOperand = '';
            this.operation = undefined;
            this.memory = 0;
            this.shouldResetScreen = false;
            this.isScientificMode = false;

            this.displayCurrent = document.querySelector('.current-operand');
            this.displayPrevious = document.querySelector('.previous-operand');

            this.setupEventListeners();
        }

        setupEventListeners() {
            // Zahlentasten
            document.querySelectorAll('[data-value]').forEach(button => {
                button.addEventListener('click', () => {
                    this.appendNumber(button.getAttribute('data-value'));
                    this.updateDisplay();
                });
            });

            // Operatoren
            document.querySelectorAll('[data-action]').forEach(button => {
                button.addEventListener('click', () => {
                    const action = button.getAttribute('data-action');
                    this.handleAction(action);
                    this.updateDisplay();
                });
            });
        }

        handleAction(action) {
            switch(action) {
                case 'clear':
                    this.clear();
                    break;
                case 'delete':
                    this.delete();
                    break;
                case 'calculate':
                    this.calculate();
                    break;
                case 'add':
                case 'subtract':
                case 'multiply':
                case 'divide':
                    this.chooseOperation(action);
                    break;
                case 'percent':
                    this.percent();
                    break;
                case 'plus-minus':
                    this.plusMinus();
                    break;
                case 'mc':
                    this.memoryClear();
                    break;
                case 'mr':
                    this.memoryRecall();
                    break;
                case 'm-plus':
                    this.memoryAdd();
                    break;
                case 'm-minus':
                    this.memorySubtract();
                    break;
                case 'sin':
                case 'cos':
                case 'tan':
                case 'log':
                case 'ln':
                case 'sinh':
                case 'cosh':
                case 'tanh':
                case 'exp':
                case 'factorial':
                case 'power':
                case 'square-root':
                case 'cube-root':
                case 'log-base-2':
                case 'log-base-10':
                    this.scientificFunction(action);
                    break;
                case 'open-parenthesis':
                    this.appendNumber('(');
                    break;
                case 'close-parenthesis':
                    this.appendNumber(')');
                    break;
                case 'pi':
                    this.appendNumber(Math.PI.toString());
                    break;
                case 'e':
                    this.appendNumber(Math.E.toString());
                    break;
            }
        }

        appendNumber(number) {
            if (this.shouldResetScreen) {
                this.currentOperand = '';
                this.shouldResetScreen = false;
            }

            if (number === '.' && this.currentOperand.includes('.')) return;
            if (this.currentOperand === '0' && number !== '.' && number !== '(') this.currentOperand = '';

            this.currentOperand += number;
        }

        chooseOperation(operation) {
            if (this.currentOperand === '') return;
            if (this.previousOperand !== '') {
                this.calculate();
            }

            this.operation = operation;
            this.previousOperand = this.currentOperand;
            this.currentOperand = '';
        }

        calculate() {
            let computation;
            const prev = parseFloat(this.previousOperand);
            const current = parseFloat(this.currentOperand);

            if (isNaN(prev) || isNaN(current)) return;

            switch (this.operation) {
                case 'add':
                    computation = prev + current;
                    break;
                case 'subtract':
                    computation = prev - current;
                    break;
                case 'multiply':
                    computation = prev * current;
                    break;
                case 'divide':
                    if (current === 0) {
                        computation = 'Error';
                    } else {
                        computation = prev / current;
                    }
                    break;
                default:
                    return;
            }

            this.currentOperand = computation.toString();
            this.operation = undefined;
            this.previousOperand = '';
            this.shouldResetScreen = true;
        }

        clear() {
            this.currentOperand = '0';
            this.previousOperand = '';
            this.operation = undefined;
        }

        delete() {
            this.currentOperand = this.currentOperand.slice(0, -1);
            if (this.currentOperand === '') this.currentOperand = '0';
        }

        percent() {
            this.currentOperand = (parseFloat(this.currentOperand) / 100).toString();
        }

        plusMinus() {
            this.currentOperand = (parseFloat(this.currentOperand) * -1).toString();
        }

        memoryClear() {
            this.memory = 0;
        }

        memoryRecall() {
            this.currentOperand = this.memory.toString();
            this.shouldResetScreen = true;
        }

        memoryAdd() {
            this.memory += parseFloat(this.currentOperand);
        }

        memorySubtract() {
            this.memory -= parseFloat(this.currentOperand);
        }

        scientificFunction(func) {
            const current = parseFloat(this.currentOperand);
            if (isNaN(current)) return;

            let computation;
            switch (func) {
                case 'sin':
                    computation = Math.sin(current);
                    break;
                case 'cos':
                    computation = Math.cos(current);
                    break;
                case 'tan':
                    computation = Math.tan(current);
                    break;
                case 'log':
                    computation = Math.log10(current);
                    break;
                case 'ln':
                    computation = Math.log(current);
                    break;
                case 'sinh':
                    computation = Math.sinh(current);
                    break;
                case 'cosh':
                    computation = Math.cosh(current);
                    break;
                case 'tanh':
                    computation = Math.tanh(current);
                    break;
                case 'exp':
                    computation = Math.exp(current);
                    break;
                case 'factorial':
                    computation = this.factorial(current);
                    break;
                case 'square-root':
                    computation = Math.sqrt(current);
                    break;
                case 'cube-root':
                    computation = Math.cbrt(current);
                    break;
                case 'power':
                    computation = Math.pow(current, 2);
                    break;
                case 'log-base-2':
                    computation = Math.log2(current);
                    break;
                case 'log-base-10':
                    computation = Math.log10(current);
                    break;
            }

            this.currentOperand = computation.toString();
            this.shouldResetScreen = true;
        }

        factorial(n) {
            if (n < 0) return 'Error';
            if (n === 0 || n === 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        updateDisplay() {
            this.displayCurrent.textContent = this.formatDisplayNumber(this.currentOperand);

            if (this.operation != null) {
                let operatorSymbol;
                switch (this.operation) {
                    case 'add': operatorSymbol = '+'; break;
                    case 'subtract': operatorSymbol = '-'; break;
                    case 'multiply': operatorSymbol = '×'; break;
                    case 'divide': operatorSymbol = '÷'; break;
                }
                this.displayPrevious.textContent =
                    `${this.formatDisplayNumber(this.previousOperand)} ${operatorSymbol}`;
            } else {
                this.displayPrevious.textContent = '';
            }
        }

        formatDisplayNumber(number) {
            if (number === 'Error') return number;

            const stringNumber = number.toString();
            if (stringNumber.includes('.')) {
                const [integerPart, decimalPart] = stringNumber.split('.');
                return `${this.formatInteger(integerPart)}.${decimalPart}`;
            }
            return this.formatInteger(stringNumber);
        }

        formatInteger(integer) {
            if (integer === '') return '0';
            return parseInt(integer).toLocaleString('de');
        }
    }

    // Währungsumrechner Funktionen
    class CurrencyConverter {
        constructor() {
            this.exchangeRates = {
                EUR: { USD: 1.08, CHF: 0.97, GBP: 0.85, JPY: 156.50, CAD: 1.46, AUD: 1.65, EUR: 1 },
                USD: { EUR: 0.93, CHF: 0.90, GBP: 0.78, JPY: 145.20, CAD: 1.35, AUD: 1.52, USD: 1 },
                CHF: { EUR: 1.03, USD: 1.11, GBP: 0.88, JPY: 161.50, CAD: 1.50, AUD: 1.69, CHF: 1 },
                GBP: { EUR: 1.18, USD: 1.28, CHF: 1.14, JPY: 184.30, CAD: 1.71, AUD: 1.93, GBP: 1 },
                JPY: { EUR: 0.0064, USD: 0.0069, CHF: 0.0062, GBP: 0.0054, CAD: 0.0093, AUD: 0.0105, JPY: 1 },
                CAD: { EUR: 0.68, USD: 0.74, CHF: 0.67, GBP: 0.58, JPY: 107.53, AUD: 1.13, CAD: 1 },
                AUD: { EUR: 0.61, USD: 0.66, CHF: 0.59, GBP: 0.52, JPY: 95.31, CAD: 0.89, AUD: 1 }
            };

            this.fromCurrency = document.getElementById('from-currency');
            this.toCurrency = document.getElementById('to-currency');
            this.amountInput = document.getElementById('amount-input');
            this.resultOutput = document.getElementById('result-output');
            this.rateInfo = document.getElementById('exchange-rate');
            this.swapButton = document.getElementById('swap-currencies');

            this.setupEventListeners();
            this.convert();
        }

        setupEventListeners() {
            this.fromCurrency.addEventListener('change', () => this.convert());
            this.toCurrency.addEventListener('change', () => this.convert());
            this.amountInput.addEventListener('input', () => this.convert());

            this.swapButton.addEventListener('click', () => {
                const temp = this.fromCurrency.value;
                this.fromCurrency.value = this.toCurrency.value;
                this.toCurrency.value = temp;
                this.convert();
            });
        }

        convert() {
            const from = this.fromCurrency.value;
            const to = this.toCurrency.value;
            const amount = parseFloat(this.amountInput.value) || 0;

            if (from === to) {
                this.resultOutput.value = amount.toFixed(2);
                this.rateInfo.textContent = `Wechselkurs: 1 ${from} = 1 ${to}`;
                return;
            }

            const rate = this.exchangeRates[from][to];
            const result = amount * rate;

            this.resultOutput.value = result.toFixed(2);
            this.rateInfo.textContent = `Wechselkurs: 1 ${from} = ${rate.toFixed(2)} ${to}`;
        }
    }

    // Einheitenumrechner Funktionen
    class UnitConverter {
        constructor() {
            this.conversionFactors = {
                length: {
                    meter: 1,
                    kilometer: 0.001,
                    centimeter: 100,
                    millimeter: 1000,
                    mile: 0.000621371,
                    yard: 1.09361,
                    foot: 3.28084,
                    inch: 39.3701
                },
                weight: {
                    kilogram: 1,
                    gram: 1000,
                    milligram: 1000000,
                    pound: 2.20462,
                    ounce: 35.274,
                    ton: 0.001
                },
                temperature: {
                    celsius: 1,
                    fahrenheit: 33.8,
                    kelvin: 274.15
                },
                energy: {
                    joule: 1,
                    kilojoule: 0.001,
                    calorie: 0.239006,
                    kilocalorie: 0.000239006,
                    wattHour: 0.000277778,
                    electronvolt: 6.24151e18
                },
                power: {
                    watt: 1,
                    kilowatt: 0.001,
                    horsepower: 0.00134102,
                    voltAmpere: 1
                },
                area: {
                    squareMeter: 1,
                    squareKilometer: 0.000001,
                    hectare: 0.0001,
                    acre: 0.000247105,
                    squareMile: 0.000000386102,
                    squareYard: 1.19599,
                    squareFoot: 10.7639,
                    squareInch: 1550
                },
                volume: {
                    cubicMeter: 1,
                    liter: 1000,
                    milliliter: 1000000,
                    gallon: 264.172,
                    quart: 1056.69,
                    pint: 2113.38,
                    cup: 4226.75,
                    fluidOunce: 33814
                }
            };

            this.currentType = 'length';
            this.fromUnit = document.getElementById('converter-from');
            this.toUnit = document.getElementById('converter-to');
            this.converterInput = document.getElementById('converter-input');
            this.converterResult = document.getElementById('converter-result');
            this.conversionInfo = document.getElementById('conversion-info');
            this.swapButton = document.getElementById('swap-units');
            this.typeButtons = document.querySelectorAll('.converter-type-btn');

            this.setupEventListeners();
            this.updateUnits();
        }

        setupEventListeners() {
            this.fromUnit.addEventListener('change', () => this.convert());
            this.toUnit.addEventListener('change', () => this.convert());
            this.converterInput.addEventListener('input', () => this.convert());

            this.swapButton.addEventListener('click', () => {
                const temp = this.fromUnit.value;
                this.fromUnit.value = this.toUnit.value;
                this.toUnit.value = temp;
                this.convert();
            });

            this.typeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    this.typeButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    this.currentType = button.getAttribute('data-type');
                    this.updateUnits();
                    this.convert();
                });
            });
        }

        updateUnits() {
            const units = Object.keys(this.conversionFactors[this.currentType]);

            // Leere die Select-Elemente
            this.fromUnit.innerHTML = '';
            this.toUnit.innerHTML = '';

            // Fülle die Select-Elemente mit den entsprechenden Einheiten
            units.forEach(unit => {
                const optionFrom = document.createElement('option');
                optionFrom.value = unit;
                optionFrom.textContent = this.getUnitName(unit);
                this.fromUnit.appendChild(optionFrom);

                const optionTo = document.createElement('option');
                optionTo.value = unit;
                optionTo.textContent = this.getUnitName(unit);
                if (unit === 'kilometer' && this.currentType === 'length') {
                    optionTo.selected = true;
                }
                this.toUnit.appendChild(optionTo);
            });

            // Setze die erste Einheit als fromUnit
            if (units.length > 0) {
                this.fromUnit.value = units[0];
            }
        }

        getUnitName(unit) {
            const unitNames = {
                // Länge
                meter: 'Meter',
                kilometer: 'Kilometer',
                centimeter: 'Zentimeter',
                millimeter: 'Millimeter',
                mile: 'Meile',
                yard: 'Yard',
                foot: 'Fuß',
                inch: 'Zoll',

                // Gewicht
                kilogram: 'Kilogramm',
                gram: 'Gramm',
                milligram: 'Milligramm',
                pound: 'Pfund',
                ounce: 'Unze',
                ton: 'Tonne',

                // Temperatur
                celsius: 'Celsius',
                fahrenheit: 'Fahrenheit',
                kelvin: 'Kelvin',

                // Energie
                joule: 'Joule',
                kilojoule: 'Kilojoule',
                calorie: 'Kalorie',
                kilocalorie: 'Kilokalorie',
                wattHour: 'Watt-Stunde',
                electronvolt: 'Elektronenvolt',

                // Leistung
                watt: 'Watt',
                kilowatt: 'Kilowatt',
                horsepower: 'Pferdestärke',
                voltAmpere: 'Volt-Ampere',

                // Fläche
                squareMeter: 'Quadratmeter',
                squareKilometer: 'Quadratkilometer',
                hectare: 'Hektar',
                acre: 'Morgen',
                squareMile: 'Quadratmeile',
                squareYard: 'Quadratyard',
                squareFoot: 'Quadratfuß',
                squareInch: 'Quadratzoll',

                // Volumen
                cubicMeter: 'Kubikmeter',
                liter: 'Liter',
                milliliter: 'Milliliter',
                gallon: 'Gallone',
                quart: 'Quart',
                pint: 'Pint',
                cup: 'Cup',
                fluidOunce: 'Flüssigunze'
            };

            return unitNames[unit] || unit;
        }

        convert() {
            const from = this.fromUnit.value;
            const to = this.toUnit.value;
            const value = parseFloat(this.converterInput.value) || 0;

            if (from === to) {
                this.converterResult.value = value;
                this.conversionInfo.textContent = `1 ${this.getUnitName(from)} = 1 ${this.getUnitName(to)}`;
                return;
            }

            let result;

            // Spezialbehandlung für Temperatur
            if (this.currentType === 'temperature') {
                result = this.convertTemperature(value, from, to);
            } else {
                // Standardumrechnung für andere Einheiten
                const baseValue = value / this.conversionFactors[this.currentType][from];
                result = baseValue * this.conversionFactors[this.currentType][to];
            }

            this.converterResult.value = result.toFixed(6);
            this.conversionInfo.textContent = `1 ${this.getUnitName(from)} = ${(1 / this.conversionFactors[this.currentType][from] * this.conversionFactors[this.currentType][to]).toFixed(6)} ${this.getUnitName(to)}`;
        }

        convertTemperature(value, from, to) {
            // Zuerst in Celsius umrechnen
            let celsius;
            switch (from) {
                case 'celsius':
                    celsius = value;
                    break;
                case 'fahrenheit':
                    celsius = (value - 32) * 5/9;
                    break;
                case 'kelvin':
                    celsius = value - 273.15;
                    break;
            }

            // Dann von Celsius in die Zieleinheit umrechnen
            switch (to) {
                case 'celsius':
                    return celsius;
                case 'fahrenheit':
                    return (celsius * 9/5) + 32;
                case 'kelvin':
                    return celsius + 273.15;
            }
        }
    }

    // Theme Toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        const icon = document.querySelector('.theme-toggle i');

        if (document.body.classList.contains('dark-mode')) {
            icon.classList.remove('fa-moon');
            icon.classList.add('fa-sun');
            localStorage.setItem('theme', 'dark');
        } else {
            icon.classList.remove('fa-sun');
            icon.classList.add('fa-moon');
            localStorage.setItem('theme', 'light');
        }
    });

    // Tab-Funktionalität
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
            // Entferne active von allen Tabs
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            // Füge active zum angeklickten Tab hinzu
            tab.classList.add('active');

            // Blende alle Tab-Inhalte aus
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Zeige den entsprechenden Tab-Inhalt an
            const tabId = tab.getAttribute('data-tab');
            document.getElementById(`${tabId}-tab`).classList.add('active');
        });
    });

    // Initialisierung
    document.addEventListener('DOMContentLoaded', () => {
        const calculator = new Calculator();
        const currencyConverter = new CurrencyConverter();
        const unitConverter = new UnitConverter();

        // Theme aus localStorage wiederherstellen
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-mode');
            const icon = document.querySelector('.theme-toggle i');
            icon.classList.remove('fa-moon');
            icon.classList.add('fa-sun');
        }
    });
</script>
</body>
</html>